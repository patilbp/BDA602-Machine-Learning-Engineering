version: "3.3"

services:
  mariadb:
    image: linuxserver/mariadb:latest
    container_name: mariadb
    environment:
      - PUID=1000
      - PGID=1000
      - MYSQL_USER=root
      - MYSQL_PASSWORD=eldudeH.22 # pragma: allowlist secret
      - MYSQL_ROOT_PASSWORD=eldudeH.22 # pragma: allowlist secret
      - MYSQL_DATABASE=baseball
    volumes:
      - ./db:/config
    restart: unless-stopped
  docker_rolling_avg:
    container_name: docker_rolling_avg #rolling average container
    depends_on:
      - mariadb
    build:
      context: .
      dockerfile: Dockerfile
    image: docker_rolling_avg
    volumes:
      - ./result:/result
